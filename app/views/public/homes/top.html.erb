<div class="position-relative d-flex align-items-center">
  <div class="position-absolute d-flex justify-content-center w-100 py-3 top-mv__filter">
    <%= image_tag "logo.png", style: 'width: auto; height: 100px' %>
  </div>
  <div class="swiper main-visual">
    <div class="swiper-wrapper">
      <div class="swiper-slide">
        <%= image_tag 'oceanhotel.jpg', class: 'img-fluid top-mv__img' %>
      </div>
      <div class="swiper-slide">
        <%= image_tag 'autumn.jpg', class: 'img-fluid top-mv__img' %>
      </div>
      <div class="swiper-slide">
        <%#= image_tag 'street.webp', class: 'img-fluid top-mv__img' %>
       </div>
      <div class="swiper-slide">
        <%#= image_tag 'snowhouse.jpg', class: 'img-fluid top-mv__img' %>
      </div>
       <div class="swiper-slide">
        <%#= image_tag 'purplesky.jpg', class: 'img-fluid top-mv__img' %>
      </div>
    </div>
  </div>
</div>


<div class="container">
  <div class="row no-gutters mt-5">
    <div class="col-md-6">
      <%= image_tag 'reception.jpg', class: 'img-fluid top-description__img' %>
    </div>
    <div class="col-md-6">
      <div class="container-fluid h-100 d-flex flex-column justify-content-center">
        <h2>cancel matchingとは</h2>
        <p>
          直近でキャンセルになってしまった施設側と予約を探しているお客様の両者がマッチングできるサイトです。<br>
          「キャンセル」という言葉をマイナスではなくマッチできる、というプラスの捉え方をもって頂きたくcancel matchingというサイト名にしました。<br>
          直近で空室のホテルを探している時、キャンセルになってしまったお部屋を他のお客様に宿泊してほしい時‥様々な用途でご利用していただけますと幸いです。
        </p>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid mt-5">
  <h2 class="text-center py-3">新着一覧</h2>


  <div class="swiper new-rooms">
    <div class="swiper-wrapper">

      <% @rooms.each_slice(3) do |room_slice| %>
      <div class="swiper-slide">
        <div class="row no-gutters">
        <% room_slice.each do |room| %>
          <div class="col-md-4 p-2">
            <%= link_to hotel_path(room) do %>
            <div class="card">
              <%= image_tag room.image, class: 'top-new-room__img' if room.image.attached? %>
              <%= image_tag 'redbed.jpg', class: 'top-new-room__img' unless room.image.attached? %>
              <div class="card-body">
                <h5><%= room.hotel.hotel_name %></h5>
                <p><%= room.room_name %></p>
                <p>&yen; <%= room.price.to_s(:delimited) %></p>
              </div>
            </div>
            <% end %>
          </div>
        <% end %>
        </div>
      </div>
      <% end %>
    </div>
  </div>
</div>


<script>
  // Swiperを実行(初期化)
  $(document).on('turbolinks:load', function() {
      new Swiper('.main-visual', {
        loop: true,
        autoplay: {
          delay: 5000,
        },
      });
  });

    // Swiperを実行(初期化)
  $(document).on('turbolinks:load', function() {
      var newRooms = new Swiper('.new-rooms', {
        loop: true,
        speed: 70000,
        autoplay: {
          delay: 0,
        },
      });
  });


</script>

<div class="container-fluid mt-5">
<h2 class="text-center py-3">よくある質問</h2>
<div class="row">
   <div class="col-6">
    <!-- Button trigger modal -->
    <div class="text-dark border p-3 mt-2" data-toggle="modal" data-target="#exampleModalCenter">
       cancel matchingとはどんなサイトですか？
    </div>

    <!-- Modal -->
    <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalCenterTitle">cancel matchingとはどんなサイトですか？</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
           直近でキャンセルになってしまった施設側と予約を探しているお客様の両者がマッチングできるサイトです。
           直近で宿泊施設を探している時、直前割でお得に宿泊したい時等でお客様はご利用でき、宿泊施設様は直近でキャンセルになってしまったお部屋を掲載することができます。
          </div>
        </div>
      </div>
    </div>
  </div>
   <div class="col-6">
    <!-- Button trigger modal -->
    <div class="text-dark border p-3 mt-2" data-toggle="modal" data-target="#exampleModalCenter2">
   どんな宿泊施設がありますか？
    </div>

    <!-- Modal -->
    <div class="modal fade" id="exampleModalCenter2" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalCenterTitle">どんな宿泊施設がありますか？</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            全国のホテル、旅館、ビジネスホテル等が掲載されています。一覧からご覧になり、予約することができます。
          </div>
          </div>
        </div>
      </div>
    </div>
   <div class="col-6">
    <!-- Button trigger modal -->
    <div class="text-dark border p-3 mt-2" data-toggle="modal" data-target="#exampleModalCenter3">
      宿泊した方の口コミが知りたいのですが‥
    </div>

    <!-- Modal -->
    <div class="modal fade" id="exampleModalCenter3" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalCenterTitle"> 宿泊した方の口コミが知りたいのですが‥</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
             ホテル一覧から掲載されているお部屋からの詳細ページにて口コミとレビュー評価を確認することができます。
        </div>
      </div>
    </div>
  </div>

</div>
   <div class="col-6">
    <!-- Button trigger modal -->
    <div class="text-dark border p-3 mt-2" data-toggle="modal" data-target="#exampleModalCenter4">
      予約後はどうやって確認できますか？
    </div>

    <!-- Modal -->
    <div class="modal fade" id="exampleModalCenter4" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalCenterTitle">予約後はどうやって確認できますか？</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            ご予約完了後は会員様のご登録のメールアドレスに予約完了メールをお送りしております。また、マイページから予約履歴でも確認していただけます。
          </div>
        </div>
      </div>
    </div>
  </div>

</div>


<div class="container-fluid mt-5">
  <h2 class="text-center py-3">お問い合わせ</h2>

  <div class="">
    <form>
      <div class="col-md-10 offset-md-1">
        <label for="validationServer01">名前（性）</label>
        <input type="text" class="form-control" id="last_name_field" required>
        <div class="valid-feedback">
           名前（性）が入力されています。
        </div>
         <div class="invalid-feedback">
          名前（性）を入力してください。
        </div>
      </div>

      <div class="col-md-10 offset-md-1">
        <label for="validationServer02">名前（名）</label>
        <input type="text" class="form-control" id="first_name_field" required>
        <div class="valid-feedback">
           名前（名）が入力されています。
        </div>
        <div class="invalid-feedback">
          名前（名）を入力してください。
        </div>
      </div>
      <div class="col-md-10 offset-md-1">
        <label for="validationServer02">お問い合わせ内容</label>
        <textarea class="form-control" id="body_field" required></textarea>
        <div class="valid-feedback">
          お問合わせ内容が入力されています。
        </div>
         <div class="invalid-feedback">
          お問い合わせ内容を入力してください。
        </div>
      </div>
      <button class="btn btn-outline-secondary btn-lg btn-block col-md-10 offset-md-1 mt-4 mb-4 "  type="submit">送信</button>


  </div>
</div>

<script>
  $('#last_name_field').keyup(function(){
    $(this).val().length > 0 ? $(this).removeClass('is-invalid').addClass('is-valid') : $(this).removeClass('is-valid').addClass('is-invalid')
  });

  $('#first_name_field').keyup(function(){
    $(this).val().length > 0 ? $(this).removeClass('is-invalid').addClass('is-valid') : $(this).removeClass('is-valid').addClass('is-invalid')
  });

  $('#body_field').keyup(function(){
    $(this).val().length > 0 ? $(this).removeClass('is-invalid').addClass('is-valid') : $(this).removeClass('is-valid').addClass('is-invalid')
  });
</script>